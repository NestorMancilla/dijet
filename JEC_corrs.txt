IOV,L1,L2L3,L1RC,JER,JERSF,JERSFvsPT
UL2016APVMG,Summer19UL16APV_V7_MC_L1FastJet_AK4PFchs,Summer19UL16APV_V7_MC_L2Relative_AK4PFchs,Summer19UL16APV_V7_MC_L1RC_AK4PFchs,JRDatabase/textFiles/Summer20UL16APV_JRV3_MC/Summer20UL16APV_JRV3_MC_PtResolution_AK4PFchs.txt,JRDatabase/textFiles/Summer20UL16APV_JRV3_MC/Summer20UL16APV_JRV3_MC_SF_AK4PFchs.txt,Summer20UL2016APV_ZB_v26c_JRV3_MC_SF_AK4PFchs
UL2016BCD,Summer19UL16APV_RunBCD_V7_DATA_L1FastJet_AK4PFchs,Summer19UL16APV_RunBCD_V7_DATA_L2Relative_AK4PFchs,Summer19UL16APV_RunBCD_V7_DATA_L1RC_AK4PFchs,,,,
UL2016EF,Summer19UL16APV_RunEF_V7_DATA_L1FastJet_AK4PFchs,Summer19UL16APV_RunEF_V7_DATA_L2Relative_AK4PFchs,Summer19UL16APV_RunEF_V7_DATA_L1RC_AK4PFchs,,,,
UL2016MG,Summer19UL16_V7_MC_L1FastJet_AK4PFchs,Summer19UL16_V7_MC_L2Relative_AK4PFchs,Summer19UL16_V7_MC_L1RC_AK4PFchs,JRDatabase/textFiles/Summer20UL16_JRV3_MC/Summer20UL16_JRV3_MC_PtResolution_AK4PFchs.txt,JRDatabase/textFiles/Summer20UL16_JRV3_MC/Summer20UL16_JRV3_MC_SF_AK4PFchs.txt,Summer20UL2016GH_ZB_v26c_JRV3_MC_SF_AK4PFchs
UL2016GH,Summer19UL16_RunFGH_V7_DATA_L1FastJet_AK4PFchs,Summer19UL16_RunFGH_V7_DATA_L2Relative_AK4PFchs,Summer19UL16_RunFGH_V7_DATA_L1RC_AK4PFchs,,,,
UL2017MG,Summer19UL17_V6_MC_L1FastJet_AK4PFchs,Summer19UL17_V6_MC_L2Relative_AK4PFchs,Summer19UL17_V6_MC_L1RC_AK4PFchs,JRDatabase/textFiles/Summer19UL17_JRV3_MC/Summer19UL17_JRV3_MC_PtResolution_AK4PFchs.txt,JRDatabase/textFiles/Summer19UL17_JRV3_MC/Summer19UL17_JRV3_MC_SF_AK4PFchs.txt,Summer20UL2017_ZB_v26c_JRV3_MC_SF_AK4PFchs
UL2017B,Summer19UL17_RunB_V6_DATA_L1FastJet_AK4PFchs,Summer19UL17_RunB_V6_DATA_L2Relative_AK4PFchs,Summer19UL17_RunB_V6_DATA_L1RC_AK4PFchs,,,,
UL2017B_ZB,Summer19UL17_RunB_V6_DATA_L1FastJet_AK4PFchs,Summer19UL17_RunB_V6_DATA_L2Relative_AK4PFchs,Summer19UL17_RunB_V6_DATA_L1RC_AK4PFchs,,,,
UL2017C,Summer19UL17_RunC_V6_DATA_L1FastJet_AK4PFchs,Summer19UL17_RunC_V6_DATA_L2Relative_AK4PFchs,Summer19UL17_RunC_V6_DATA_L1RC_AK4PFchs,,,,
UL2017C_ZB,Summer19UL17_RunC_V6_DATA_L1FastJet_AK4PFchs,Summer19UL17_RunC_V6_DATA_L2Relative_AK4PFchs,Summer19UL17_RunC_V6_DATA_L1RC_AK4PFchs,,,,
UL2017D,Summer19UL17_RunD_V6_DATA_L1FastJet_AK4PFchs,Summer19UL17_RunD_V6_DATA_L2Relative_AK4PFchs,Summer19UL17_RunD_V6_DATA_L1RC_AK4PFchs,,,,
UL2017D_ZB,Summer19UL17_RunD_V6_DATA_L1FastJet_AK4PFchs,Summer19UL17_RunD_V6_DATA_L2Relative_AK4PFchs,Summer19UL17_RunD_V6_DATA_L1RC_AK4PFchs,,,,
UL2017E,Summer19UL17_RunE_V6_DATA_L1FastJet_AK4PFchs,Summer19UL17_RunE_V6_DATA_L2Relative_AK4PFchs,Summer19UL17_RunE_V6_DATA_L1RC_AK4PFchs,,,,
UL2017E_ZB,Summer19UL17_RunE_V6_DATA_L1FastJet_AK4PFchs,Summer19UL17_RunE_V6_DATA_L2Relative_AK4PFchs,Summer19UL17_RunE_V6_DATA_L1RC_AK4PFchs,,,,
UL2017F,Summer19UL17_RunF_V6_DATA_L1FastJet_AK4PFchs,Summer19UL17_RunF_V6_DATA_L2Relative_AK4PFchs,Summer19UL17_RunF_V6_DATA_L2L3Residual_AK4PFchs,Summer19UL17_RunF_V6_DATA_L1RC_AK4PFchs,,
UL2017F_ZB,Summer19UL17_RunF_V6_DATA_L1FastJet_AK4PFchs,Summer19UL17_RunF_V6_DATA_L2Relative_AK4PFchs,Summer19UL17_RunF_V6_DATA_L2L3Residual_AK4PFchs,Summer19UL17_RunF_V6_DATA_L1RC_AK4PFchs,,
UL2018MG,Summer19UL18_V5_MC_L1FastJet_AK4PFchs,Summer19UL18_V5_MC_L2Relative_AK4PFchs,,Summer19UL18_V5_MC_L1RC_AK4PFchs,JRDatabase/textFiles/Summer19UL18_JRV2_MC/Summer19UL18_JRV2_MC_PtResolution_AK4PFchs.txt,JRDatabase/textFiles/Summer19UL18_JRV2_MC/Summer19UL18_JRV2_MC_SF_AK4PFchs.txt,Summer20UL2018_ZB_v26c_JRV3_MC_SF_AK4PFchs
UL2018A,Summer19UL18_RunA_V5_DATA_L1FastJet_AK4PFchs,Summer19UL18_RunA_V5_DATA_L2Relative_AK4PFchs,Summer19UL18_RunA_V5_DATA_L2L3Residual_AK4PFchs,Summer19UL18_RunA_V5_DATA_L1RC_AK4PFchs,,
UL2018A_ZB,Summer19UL18_RunA_V5_DATA_L1FastJet_AK4PFchs,Summer19UL18_RunA_V5_DATA_L2Relative_AK4PFchs,Summer19UL18_RunA_V5_DATA_L2L3Residual_AK4PFchs,Summer19UL18_RunA_V5_DATA_L1RC_AK4PFchs,,
UL2018B,Summer19UL18_RunB_V5_DATA_L1FastJet_AK4PFchs,Summer19UL18_RunB_V5_DATA_L2Relative_AK4PFchs,Summer19UL18_RunB_V5_DATA_L2L3Residual_AK4PFchs,Summer19UL18_RunB_V5_DATA_L1RC_AK4PFchs,,
UL2018B_ZB,Summer19UL18_RunB_V5_DATA_L1FastJet_AK4PFchs,Summer19UL18_RunB_V5_DATA_L2Relative_AK4PFchs,Summer19UL18_RunB_V5_DATA_L2L3Residual_AK4PFchs,Summer19UL18_RunB_V5_DATA_L1RC_AK4PFchs,,
UL2018C,Summer19UL18_RunC_V5_DATA_L1FastJet_AK4PFchs,Summer19UL18_RunC_V5_DATA_L2Relative_AK4PFchs,Summer19UL18_RunC_V5_DATA_L1RC_AK4PFchs,,,,
UL2018C_ZB,Summer19UL18_RunC_V5_DATA_L1FastJet_AK4PFchs,Summer19UL18_RunC_V5_DATA_L2Relative_AK4PFchs,Summer19UL18_RunC_V5_DATA_L1RC_AK4PFchs,,,,
UL2018D,Summer19UL18_RunD_V5_DATA_L1FastJet_AK4PFchs,Summer19UL18_RunD_V5_DATA_L2Relative_AK4PFchs,Summer19UL18_RunD_V5_DATA_L1RC_AK4PFchs,,,,
UL2018D_ZB,Summer19UL18_RunD_V5_DATA_L1FastJet_AK4PFchs,Summer19UL18_RunD_V5_DATA_L2Relative_AK4PFchs,Summer19UL18_RunD_V5_DATA_L1RC_AK4PFchs,,,,
UL2018D1,Summer19UL18_RunD_V5_DATA_L1FastJet_AK4PFchs,Summer19UL18_RunD_V5_DATA_L2Relative_AK4PFchs,Summer19UL18_RunD_V5_DATA_L1RC_AK4PFchs,,,,
UL2018D2,Summer19UL18_RunD_V5_DATA_L1FastJet_AK4PFchs,Summer19UL18_RunD_V5_DATA_L2Relative_AK4PFchs,Summer19UL18_RunD_V5_DATA_L1RC_AK4PFchs,,,,
2022C,,Summer22Run3_V1_MC_L2Relative_AK4PUPPI,Summer22_RunCD_V2_MPF_L2Residual_AK4PFPuppi,,,,
2022C_ZB,,Summer22Run3_V1_MC_L2Relative_AK4PUPPI,Summer22_RunCD_V2_MPF_L2Residual_AK4PFPuppi,,,,
2022D,,Summer22Run3_V1_MC_L2Relative_AK4PUPPI,Summer22_RunCD_V2_MPF_L2Residual_AK4PFPuppi,,,,
2022D_ZB,,Summer22Run3_V1_MC_L2Relative_AK4PUPPI,Summer22_RunCD_V2_MPF_L2Residual_AK4PFPuppi,,,,
2022E,,Summer22EEVetoRun3_V1_MC_L2Relative_AK4PUPPI,Summer22EE_RunE_V2_MPF_L2Residual_AK4PFPuppi,,,,
2022E_ZB,,Summer22EEVetoRun3_V1_MC_L2Relative_AK4PUPPI,Summer22EE_RunE_V2_MPF_L2Residual_AK4PFPuppi,,,,
2022F,,Summer22EEVetoRun3_V1_MC_L2Relative_AK4PUPPI,Summer22EEPrompt22_RunF_V2_L2Residual_AK4PFPuppi,,,,
2022G,,Summer22EEVetoRun3_V1_MC_L2Relative_AK4PUPPI,Summer22EEPrompt22_RunG_V2_L2Residual_AK4PFPuppi,,,,
2022G_ZB,,Summer22EEVetoRun3_V1_MC_L2Relative_AK4PUPPI,Summer22EEPrompt22_RunG_V2_L2Residual_AK4PFPuppi,,,,
Summer22,,Summer22Run3_V1_MC_L2Relative_AK4PUPPI,,CondFormats/JetMETObjects/data/Summer22_V1_NSCP_MC_PtResolution_ak4puppi.txt,CondFormats/JetMETObjects/data/Summer22EERun3_V1_MC_SF_AK4PFPuppi.txt,
Summer22Flat,,Summer22Run3_V1_MC_L2Relative_AK4PUPPI,,CondFormats/JetMETObjects/data/Summer22_V1_NSCP_MC_PtResolution_ak4puppi.txt,CondFormats/JetMETObjects/data/Summer22EERun3_V1_MC_SF_AK4PFPuppi.txt,
Summer22MG,,Summer22Run3_V1_MC_L2Relative_AK4PUPPI,,CondFormats/JetMETObjects/data/Summer22_V1_NSCP_MC_PtResolution_ak4puppi.txt,CondFormats/JetMETObjects/data/Summer22EERun3_V1_MC_SF_AK4PFPuppi.txt,
Summer22EE,,Summer22EEVetoRun3_V1_MC_L2Relative_AK4PUPPI,,CondFormats/JetMETObjects/data/Summer22EEVetoRun3_V1_NSCP_MC_PtResolution_ak4puppi.txt,CondFormats/JetMETObjects/data/Summer22EERun3_V1_MC_SF_AK4PFPuppi.txt,
Summer22EEFlat,,Summer22EEVetoRun3_V1_MC_L2Relative_AK4PUPPI,,CondFormats/JetMETObjects/data/Summer22EEVetoRun3_V1_NSCP_MC_PtResolution_ak4puppi.txt,CondFormats/JetMETObjects/data/Summer22EERun3_V1_MC_SF_AK4PFPuppi.txt,
Summer22EEMG,,Summer22EEVetoRun3_V1_MC_L2Relative_AK4PUPPI,,CondFormats/JetMETObjects/data/Summer22EEVetoRun3_V1_NSCP_MC_PtResolution_ak4puppi.txt,CondFormats/JetMETObjects/data/Summer22EERun3_V1_MC_SF_AK4PFPuppi.txt,
Summer23,,Winter23Prompt23_V2_MC_L2Relative_AK4PFPuppi,,CondFormats/JetMETObjects/data/Summer22EEVetoRun3_V1_NSCP_MC_PtResolution_ak4puppi.txt,CondFormats/JetMETObjects/data/Summer22EERun3_V1_MC_SF_AK4PFPuppi.txt,
Summer23Flat,,Winter23Prompt23_V2_MC_L2Relative_AK4PFPuppi,,CondFormats/JetMETObjects/data/Summer22EEVetoRun3_V1_NSCP_MC_PtResolution_ak4puppi.txt,CondFormats/JetMETObjects/data/Summer22EERun3_V1_MC_SF_AK4PFPuppi.txt,
Summer23MG,,Winter23Prompt23_V2_MC_L2Relative_AK4PFPuppi,,CondFormats/JetMETObjects/data/Summer22EEVetoRun3_V1_NSCP_MC_PtResolution_ak4puppi.txt,CondFormats/JetMETObjects/data/Summer22EERun3_V1_MC_SF_AK4PFPuppi.txt,
Summer23BPIXFlat,,Winter23Prompt23_V2_MC_L2Relative_AK4PFPuppi,,CondFormats/JetMETObjects/data/Summer22EEVetoRun3_V1_NSCP_MC_PtResolution_ak4puppi.txt,CondFormats/JetMETObjects/data/Summer22EERun3_V1_MC_SF_AK4PFPuppi.txt,
Summer23BPIXMG,,Winter23Prompt23_V2_MC_L2Relative_AK4PFPuppi,,CondFormats/JetMETObjects/data/Summer22EEVetoRun3_V1_NSCP_MC_PtResolution_ak4puppi.txt,CondFormats/JetMETObjects/data/Summer22EERun3_V1_MC_SF_AK4PFPuppi.txt,
2023BCv123,,Summer22Run3_V1_MC_L2Relative_AK4PUPPI,
2023BCv123_ZB,,Summer22Run3_V1_MC_L2Relative_AK4PUPPI,
2023Cv4,,Summer22Run3_V1_MC_L2Relative_AK4PUPPI,
2023Cv4_ZB,,Summer22Run3_V1_MC_L2Relative_AK4PUPPI,
2023D,,Summer22Run3_V1_MC_L2Relative_AK4PUPPI,
2023D_ZB,,Summer22Run3_V1_MC_L2Relative_AK4PUPPI,

struct JECInfo {
    FactorizedJetCorrector jec;
    FactorizedJetCorrector l1rc;
    std::string jerpath;
    std::string jerpathsf;
    FactorizedJetCorrector jersfvspt;
};

JECInfo getJECInfoForIOV(const std::string& iov) {
    std::ifstream file("JEC_corrs.txt");
    std::string line;
    while (std::getline(file, line)) {
        std::istringstream ss(line);
        std::vector<std::string> tokens;
        std::string token;
        while (std::getline(ss, token, ',')) {
            tokens.push_back(token);
        }
        if (tokens[0] == iov) {
            JECInfo info;
            info.jec = tokens[2];
            info.l1rc = tokens[3];
            info.jerpath = tokens[4];
            info.jerpathsf = tokens[5];
            info.jersfvspt = tokens[6];
            return info;
        }
    }
    throw std::runtime_error("IOV not found in JEC_corrs.txt");
}